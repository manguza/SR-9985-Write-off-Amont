BEGIN TRANSACTION
WHILE 1=1
BEGIN
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='4b02919d-8dd3-4791-984d-0150689dc67b')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [4b02919d-8dd3-4791-984d-0150689dc67b] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='530441a9-945f-4c66-b3a9-026cd05bab5d')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [530441a9-945f-4c66-b3a9-026cd05bab5d] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='5e6237f3-0a9b-4353-a320-039cbc5b9dfa')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [5e6237f3-0a9b-4353-a320-039cbc5b9dfa] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='c03208ba-143f-4a08-b946-0ecd1fdbd7da')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [c03208ba-143f-4a08-b946-0ecd1fdbd7da] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='11f35196-b107-40d4-a49c-26ce5e30500e')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [11f35196-b107-40d4-a49c-26ce5e30500e] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='87fbd8b8-184a-413f-a4d4-2e345b572880')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [87fbd8b8-184a-413f-a4d4-2e345b572880] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='61fc8edb-1163-4559-8f08-33fc42e97db4')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [61fc8edb-1163-4559-8f08-33fc42e97db4] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='545bb2d7-59a0-4155-9829-423317a599e1')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [545bb2d7-59a0-4155-9829-423317a599e1] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='28a845ee-a369-4e96-b1d4-4b0ad659cb86')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [28a845ee-a369-4e96-b1d4-4b0ad659cb86] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='a4f4c1e9-8b33-455a-b9c5-4fa2c8513a87')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [a4f4c1e9-8b33-455a-b9c5-4fa2c8513a87] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='c4cba7d7-e7f2-4c64-bb12-5bf0e9a5aa39')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [c4cba7d7-e7f2-4c64-bb12-5bf0e9a5aa39] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='70c61392-1482-4309-946e-789451f86759')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [70c61392-1482-4309-946e-789451f86759] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='863d04d9-fb70-46ab-9caf-caea5337d6e5')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [863d04d9-fb70-46ab-9caf-caea5337d6e5] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='c08b62e8-e009-4fc8-938b-eba5014b2809')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [c08b62e8-e009-4fc8-938b-eba5014b2809] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='3a6d7423-e65d-462e-924e-f0fdec72eab0')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [3a6d7423-e65d-462e-924e-f0fdec72eab0] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='cdc4ba65-2983-44d9-965a-f7e44a3684bb')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [cdc4ba65-2983-44d9-965a-f7e44a3684bb] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='2bf05d44-39cd-4679-a5ac-f87c352c5ef5')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [2bf05d44-39cd-4679-a5ac-f87c352c5ef5] is missing from target database'
      ROLLBACK
      BREAK
  END
  IF NOT EXISTS(SELECT SCRIPT_ID FROM S_CLIENT_SCRIPT WHERE SCRIPT_ID ='df617e19-2d2f-4f5a-b362-f938d7fe1f89')
  BEGIN
      PRINT 'S_CLIENT_SCRIPT [df617e19-2d2f-4f5a-b362-f938d7fe1f89] is missing from target database'
      ROLLBACK
      BREAK
  END



  -- Delete scripts
DELETE FROM S_VIEW_TAB_ITEM_WORKGROUP WHERE ITEM_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_VIEW_TAB_ITEM_ACTION WHERE ITEM_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_VIEW_TAB_ITEM_AW WHERE ITEM_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_VIEW_TAB_ITEM_RL WHERE ITEM_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN(SELECT ITEM_ID FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63'))
DELETE FROM S_VIEW_BUTTON_WORKGROUP WHERE BUTTON_ID IN( SELECT BUTTON_ID FROM S_VIEW_BUTTON WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN( SELECT BUTTON_ID FROM S_VIEW_BUTTON WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_VIEW_TAB_WORKGROUP WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_VIEW_TAB_ITEM WHERE TAB_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID IN( SELECT TAB_ID FROM S_VIEW_TAB WHERE VIEW_ID='209e2c34-cf25-4faf-bfd3-cbb545ea4d63')
DELETE FROM S_VIEW_CLIENT_SCRIPT WHERE VIEW_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'
DELETE FROM S_VIEW_BUTTON WHERE VIEW_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'
DELETE FROM S_VIEW_TAB WHERE VIEW_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'
DELETE FROM S_VIEW_WORKGROUP WHERE VIEW_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'
DELETE FROM S_VIEW WHERE VIEW_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'
DELETE FROM S_LANGUAGE_OBJECT_VALUE WHERE RECORD_ID = '209e2c34-cf25-4faf-bfd3-cbb545ea4d63'




  -- Insert scripts
INSERT INTO S_VIEW(VIEW_ID, VIEW_NAME, TITLE_EDIT, SELECT_QUERY, MENU_CONTEXT_SWITCH, MENU_CONTEXT_ID_DATABASE, STYLE_SHEET, DATA_DATABASE, IS_MAINTAINER_AVAILABLE, PARAMETERS, RECORD_RETRIEVE_METHOD, TITLE_ADD, DATA_TRANSFORMATION_SCRIPT, DATA_TRANSFORMATION_FUNC_NAME, HISTORY_TITLE, PROFILE_TITLE, ONAFTERLOAD_SCRIPT_ID, FUNCTION_ONLOAD, DATA_TRANSFORMATION_ID, ONBEFORELOAD_SCRIPT_ID, MENU_CONTEXT_ID, TABLE_ID, HISTORY_CONTEXT_ID, PROFILE_ID, REPORTAUDIT_SERVER_SCRIPT_ID, TRANSFORMATION_LANGUAGE) VALUES(N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63', N'LN_ACC_LN85803_HDR_NEW', N'', N'SELECT * FROM U_DUMMY', null, null, null, null, N'N', null, N'1', N'', null, null, N'LN_ACC_LN85803_HDR_NEW', null, null, N'4b02919d-8dd3-4791-984d-0150689dc67b', null, null, null, N'a02e8a78-3e94-4752-9a90-726bc90d276e', null, null, null, N'372')

begin tran
                                           UPDATE S_LANGUAGE_OBJECT_VALUE SET ID=N'86bdf004-f547-435d-b096-ae7437c222f2', OBJECT_ID=N'c656fe6a-11bb-434e-9315-16f33d2c93f7', LANGUAGE_ID=N'2dad38f9-a30c-4c69-9c8f-c3a74c20fdf1', VALUE=N'LN_ACC_LN85803_HDR_NEW', RECORD_ID=N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63', ITEM_ID=N'899238c8-8f48-4297-8cae-4594cc5bc67c' WHERE ID = '86bdf004-f547-435d-b096-ae7437c222f2'

                                           if @@rowcount = 0
                                           begin
                                                  INSERT INTO S_LANGUAGE_OBJECT_VALUE(ID, OBJECT_ID, LANGUAGE_ID, VALUE, RECORD_ID, ITEM_ID) VALUES(N'86bdf004-f547-435d-b096-ae7437c222f2', N'c656fe6a-11bb-434e-9315-16f33d2c93f7', N'2dad38f9-a30c-4c69-9c8f-c3a74c20fdf1', N'LN_ACC_LN85803_HDR_NEW', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63', N'899238c8-8f48-4297-8cae-4594cc5bc67c')
                                           end
                                        commit tran

INSERT INTO S_VIEW_TAB(TAB_ID, TAB_NAME, TAB_TITLE, ITEM_INDEX, MODE_AVAILABLE, HAS_WORKGROUP, VIEW_ID, PRESENTATION_TEMPLATE_ID) VALUES(N'665fafe1-94ca-4b23-8600-499de9ad9ee8', N'MAIN', N'', N'1', N'0', N'0', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63', null)

INSERT INTO S_VIEW_TAB(TAB_ID, TAB_NAME, TAB_TITLE, ITEM_INDEX, MODE_AVAILABLE, HAS_WORKGROUP, VIEW_ID, PRESENTATION_TEMPLATE_ID) VALUES(N'4a7db18b-05c0-4a70-b83a-e65696969fae', N'GLOBAL', N'', N'0', N'0', N'0', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63', N'd01c9d53-abd2-48df-b7ff-0205367acf91')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'4b02919d-8dd3-4791-984d-0150689dc67b', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'530441a9-945f-4c66-b3a9-026cd05bab5d', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'5e6237f3-0a9b-4353-a320-039cbc5b9dfa', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'c03208ba-143f-4a08-b946-0ecd1fdbd7da', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'11f35196-b107-40d4-a49c-26ce5e30500e', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'87fbd8b8-184a-413f-a4d4-2e345b572880', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'61fc8edb-1163-4559-8f08-33fc42e97db4', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'545bb2d7-59a0-4155-9829-423317a599e1', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'28a845ee-a369-4e96-b1d4-4b0ad659cb86', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'a4f4c1e9-8b33-455a-b9c5-4fa2c8513a87', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'c4cba7d7-e7f2-4c64-bb12-5bf0e9a5aa39', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'70c61392-1482-4309-946e-789451f86759', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'863d04d9-fb70-46ab-9caf-caea5337d6e5', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'c08b62e8-e009-4fc8-938b-eba5014b2809', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'3a6d7423-e65d-462e-924e-f0fdec72eab0', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'cdc4ba65-2983-44d9-965a-f7e44a3684bb', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'2bf05d44-39cd-4679-a5ac-f87c352c5ef5', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_CLIENT_SCRIPT(SCRIPT_ID, VIEW_ID) VALUES(N'df617e19-2d2f-4f5a-b362-f938d7fe1f89', N'209e2c34-cf25-4faf-bfd3-cbb545ea4d63')

INSERT INTO S_VIEW_TAB_ITEM(ITEM_ID, ITEM_NAME, TABLE_NAME, COLUMN_NAME, REQUIRED_FIELD, ITEM_TYPE, QUERY, HAS_CHILD, ALLOW_EMPTY, EMPTY_VALUE, ITEM_INDEX, ITEM_SUB_INDEX, ITEM_TITLE, DEFAULT_VALUE, IS_UPDATE, HAS_FUNCTION, IS_TABLE_UNIQUE, IS_AUDIT, IS_PROFILE, TRANSFORMATION_SCRIPT, PROP_IS_VISIBLE, PROP_IS_ACCESSIBLE, PROP_IS_EDITABLE, MODE_AVAILABLE, SUB_TITLE, WIDTH, HEIGHT, CLASS, STYLE, HREF, SUB_TYPE, DELETE_CLAUSE, MAX_LENGTH, ITEM_VALUE, GROUPING, FORMAT, REF_NAME, FILE_DIRECTORY, VALUE_ON, VALUE_OFF, HAS_WORKGROUP, AUDIT_HAS_WORKGROUP, IS_MAINTAINABLE, AUDIT_SERVER_SCRIPT_ID, TAB_ID, OWNER_ID, PROFILE_AREA_ID, REFERENCE_TABLE, DELAYED_LOAD_LIST, RELATION_ITEM) VALUES(N'20e2482d-29c8-409a-9b31-74ca8d88a210', N'ctnDetails', N'U_DUMMY', null, N'N', N'CONTAINER', null, null, N'N', null, N'1', N'0', N'', null, N'N', null, N'N', N'N', N'N', null, null, null, null, N'0', null, null, null, null, null, N'''list.aspx?PAGE_NAME=BLANK''', null, null, null, null, null, null, null, null, N'1', N'0', N'0', N'0', N'0', null, N'665fafe1-94ca-4b23-8600-499de9ad9ee8', null, null, null, N'False', null)

  COMMIT
PRINT 'Import completed successfully'
  BREAK
END
